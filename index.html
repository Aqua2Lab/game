
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>9-Instrument Drumpos</title>
  <style>
    body {font-family: Arial, sans-serif; text-align: center; background: #111; color: white;}
    h1 {margin: 20px 0;}
    .drum-container {display: flex; flex-direction: column; align-items: center; gap: 20px; margin-top: 30px;}
    .row {display: flex; flex-wrap: wrap; gap: 15px; justify-content: center;}
    button {width: 110px; height: 110px; font-size: 14px; font-weight: bold; border: none; border-radius: 12px; background: linear-gradient(145deg,#444,#222); color: white; cursor: pointer; box-shadow: 3px 3px 6px #000; transition: 0.1s;}
    button:active {background: #f39c12; transform: scale(0.95);}
  </style>
</head>
<body>
  <h1>ü•Å 9-Instrument Drumpos</h1>
  <p>Row 1 = Left, Row 2 = Right, Row 3 = Center</p>
  <p>Tap once to unlock sound, then play!</p>

  <div class="drum-container">
    <div class="row">
      <button onclick="playSound('kick','left')">Kick</button>
      <button onclick="playSound('snare','left')">Snare</button>
      <button onclick="playSound('hihat','left')">Hi-Hat</button>
      <button onclick="playSound('tom1','left')">Tom 1</button>
      <button onclick="playSound('tom2','left')">Tom 2</button>
      <button onclick="playSound('crash','left')">Crash</button>
      <button onclick="playSound('ride','left')">Ride</button>
      <button onclick="playSound('clap','left')">Clap</button>
      <button onclick="playSound('cowbell','left')">Cowbell</button>
    </div>
    <div class="row">
      <button onclick="playSound('kick','right')">Kick</button>
      <button onclick="playSound('snare','right')">Snare</button>
      <button onclick="playSound('hihat','right')">Hi-Hat</button>
      <button onclick="playSound('tom1','right')">Tom 1</button>
      <button onclick="playSound('tom2','right')">Tom 2</button>
      <button onclick="playSound('crash','right')">Crash</button>
      <button onclick="playSound('ride','right')">Ride</button>
      <button onclick="playSound('clap','right')">Clap</button>
      <button onclick="playSound('cowbell','right')">Cowbell</button>
    </div>
    <div class="row">
      <button onclick="playSound('kick','center')">Kick</button>
      <button onclick="playSound('snare','center')">Snare</button>
      <button onclick="playSound('hihat','center')">Hi-Hat</button>
      <button onclick="playSound('tom1','center')">Tom 1</button>
      <button onclick="playSound('tom2','center')">Tom 2</button>
      <button onclick="playSound('crash','center')">Crash</button>
      <button onclick="playSound('ride','center')">Ride</button>
      <button onclick="playSound('clap','center')">Clap</button>
      <button onclick="playSound('cowbell','center')">Cowbell</button>
    </div>
  </div>

  <script>
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    document.body.addEventListener("click", () => {
      if (audioCtx.state === "suspended") audioCtx.resume();
    }, { once: true });

    function playSound(type, position) {
      const panner = audioCtx.createStereoPanner();
      if (position === 'left') panner.pan.value = -1;
      else if (position === 'right') panner.pan.value = 1;
      else panner.pan.value = 0;

      if (type === 'kick') {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain).connect(panner).connect(audioCtx.destination);
        osc.type = "sine";
        osc.frequency.setValueAtTime(120, audioCtx.currentTime);
        osc.frequency.exponentialRampToValueAtTime(40, audioCtx.currentTime + 0.12);
        gain.gain.setValueAtTime(1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.12);
        osc.start(); osc.stop(audioCtx.currentTime + 0.12);
      }
      else if (type === 'snare') {
        const noiseBuffer = audioCtx.createBuffer(1, audioCtx.sampleRate * 0.2, audioCtx.sampleRate);
        const output = noiseBuffer.getChannelData(0);
        for (let i = 0; i < output.length; i++) output[i] = Math.random() * 2 - 1;
        const noise = audioCtx.createBufferSource();
        noise.buffer = noiseBuffer;
        const noiseGain = audioCtx.createGain();
        noiseGain.gain.setValueAtTime(1, audioCtx.currentTime);
        noiseGain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.15);
        const bandpass = audioCtx.createBiquadFilter();
        bandpass.type = "bandpass"; bandpass.frequency.value = 1800;
        noise.connect(bandpass).connect(noiseGain).connect(panner).connect(audioCtx.destination);
        noise.start(); noise.stop(audioCtx.currentTime + 0.15);
      }
      else if (type === 'hihat' || type === 'ride') {
        const noiseBuffer = audioCtx.createBuffer(1, audioCtx.sampleRate * 0.2, audioCtx.sampleRate);
        const output = noiseBuffer.getChannelData(0);
        for (let i = 0; i < output.length; i++) output[i] = Math.random() * 2 - 1;
        const noise = audioCtx.createBufferSource();
        noise.buffer = noiseBuffer;
        const highpass = audioCtx.createBiquadFilter();
        highpass.type = "highpass"; highpass.frequency.value = (type === 'hihat') ? 6000 : 3000;
        const noiseGain = audioCtx.createGain();
        noiseGain.gain.setValueAtTime(0.6, audioCtx.currentTime);
        noiseGain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + ((type === 'hihat') ? 0.05 : 0.3));
        noise.connect(highpass).connect(noiseGain).connect(panner).connect(audioCtx.destination);
        noise.start(); noise.stop(audioCtx.currentTime + ((type === 'hihat') ? 0.05 : 0.3));
      }
      else if (type === 'crash') {
        const noiseBuffer = audioCtx.createBuffer(1, audioCtx.sampleRate * 1.5, audioCtx.sampleRate);
        const output = noiseBuffer.getChannelData(0);
        for (let i = 0; i < output.length; i++) output[i] = Math.random() * 2 - 1;
        const noise = audioCtx.createBufferSource();
        noise.buffer = noiseBuffer;
        const highpass = audioCtx.createBiquadFilter();
        highpass.type = "highpass"; highpass.frequency.value = 4000;
        const noiseGain = audioCtx.createGain();
        noiseGain.gain.setValueAtTime(1, audioCtx.currentTime);
        noiseGain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 1.0);
        noise.connect(highpass).connect(noiseGain).connect(panner).connect(audioCtx.destination);
        noise.start(); noise.stop(audioCtx.currentTime + 1.0);
      }
      else if (type === 'clap') {
        const noiseBuffer = audioCtx.createBuffer(1, audioCtx.sampleRate * 0.15, audioCtx.sampleRate);
        const output = noiseBuffer.getChannelData(0);
        for (let i = 0; i < output.length; i++) output[i] = Math.random() * 2 - 1;
        const noise = audioCtx.createBufferSource();
        noise.buffer = noiseBuffer;
        const bandpass = audioCtx.createBiquadFilter();
        bandpass.type = "bandpass"; bandpass.frequency.value = 2000;
        const gain = audioCtx.createGain();
        gain.gain.setValueAtTime(1, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
        noise.connect(bandpass).connect(gain).connect(panner).connect(audioCtx.destination);
        noise.start(); noise.stop(audioCtx.currentTime + 0.1);
      }
      else if (type === 'cowbell') {
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain).connect(panner).connect(audioCtx.destination);
        osc.type = "square";
        osc.frequency.setValueAtTime(540, audioCtx.currentTime);
        gain.gain.setValueAtTime(0.7, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.25);
        osc.start(); osc.stop(audioCtx.currentTime + 0.25);
      }
      else { // toms
        const osc = audioCtx.createOscillator();
        const gain = audioCtx.createGain();
        osc.connect(gain).connect(panner).connect(audioCtx.destination);
        osc.type = "sine";
        osc.frequency.value = type === 'tom1' ? 200 : 120;
        gain.gain.setValueAtTime(0.8, audioCtx.currentTime);
        gain.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2);
        osc.start(); osc.stop(audioCtx.currentTime + 0.2);
      }
    }
  </script>
</body>
</html>
